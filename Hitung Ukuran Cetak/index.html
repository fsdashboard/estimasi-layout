<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Kalkulator Indoor/Outdoor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<style>
  /* ===== BASE SELECT2 (SAMAKAN DENGAN INPUT TAILWIND) ===== */
  .select2-container--default .select2-selection--single {
    height: 42px;
    border: 1px solid #d1d5db; /* border-gray-300 */
    border-radius: 0.375rem;  /* rounded */
    padding: 6px 10px;
    position: relative;
    display: flex;
    align-items: center;
    background-color: #fff;
  }

  /* ===== TEKS VALUE ===== */
  .select2-selection__rendered {
    line-height: normal !important;
    padding-left: 0 !important;
    padding-right: 4.5rem !important; /* ruang untuk ❌ + ▼ */
  }

  /* ===== TOMBOL CLEAR (X) ===== */
  .select2-container--default
  .select2-selection--single
  .select2-selection__clear {
    position: absolute;
    right: 36px; /* sejajar, di kiri arrow */
    top: 50%;
    transform: translateY(-50%);
    font-size: 16px;
    color: #9ca3af;
    cursor: pointer;
  }

  .select2-selection__clear:hover {
    color: #ef4444; /* merah saat hover */
  }

  /* ===== PANAH DROPDOWN ===== */
  .select2-container--default
  .select2-selection--single
  .select2-selection__arrow {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    height: auto;
  }

  /* ===== SEARCH FIELD DI DROPDOWN ===== */
  .select2-search__field {
    height: 36px;
    padding: 6px 10px;
  }
</style>


</head>
<body class="bg-gray-100 p-6">

  <div class="max-w-xl mx-auto bg-white p-6 rounded shadow">
    <h1 class="text-xl font-bold mb-4">Hitung Ukuran Cetak</h1>

    <div class="mb-3">
      <label class="block text-sm font-medium mb-1">Panjang Desain (m)</label>
      <input id="panjang" type="number" step="0.01" class="w-full border p-2 rounded">
    </div>

    <div class="mb-3">
      <label class="block text-sm font-medium mb-1">Lebar Desain (m)</label>
      <input id="lebar" type="number" step="0.01" class="w-full border p-2 rounded">
    </div>

    <div class="mb-4">
      <label class="block text-sm font-medium mb-1">Jenis Bahan</label>
      <select id="bahan" class="w-full border p-2 rounded">
        <option value=""></option>
        <option value="china280">Flexi China 280gsm</option>
        <option value="china340">Flexi China 340gsm</option>
        <option value="korea">Flexi Korea 440gsm</option>
        <option value="germany">Flexi Germany 510gsm</option>
        <option value="backlitechina">Backlite China 510gsm</option>
        <option value="backliteduratan">Backlite Duratran</option>
        <option value="satinclouth">Satin Clouth</option>
        <option value="albatros">Albatros</option>
        <option value="photopaper">Photo Paper</option>
        <option value="posterpaper">Poster Paper</option>
        <option value="canvas">Canvas</option>
        <option value="luster">Luster</option>
        <option value="stickeralbatros">Sticker Albatros</option>
        <option value="stickercamel">Sticker Camel</option>
        <option value="stickerhologram">Sticker Hologram</option>
        <option value="stickeroneway">Sticker One Way</option>
        <option value="stickerpolytape">Sticker Polytape</option>
        <option value="stickerritrama">Sticker Ritrama</option>
        <option value="stickerritramatrf">Sticker Ritrama TRF</option>
        <option value="stickersunblash">Sticker Sunblash</option>
        <option value="stickervinilchina">Sticker Vinil China</option>
        <option value="wallpaper">Wallpaper</option>
        <option value="laminatingdoff">Laminating Doff</option>
        <option value="laminatingglossy">Laminating Glossy</option>
      </select>
      <!-- NOTE: peringatan bahan dihapus dari sini; peringatan akan tampil di area hasil saja -->
    </div>

    <div class="flex gap-3">
      <button type="button" onclick="hitung()" class="flex-1 bg-blue-600 text-white py-2 rounded">
        Hitung
      </button>
      <button type="button" onclick="resetForm()" class="flex-1 bg-gray-300 text-gray-800 py-2 rounded">
        Reset
      </button>
    </div>

    <div id="hasil" class="mt-5 bg-gray-50 p-4 rounded hidden">
      <p><strong>Ukuran Cetak Produksi:</strong> <span id="ukuranCetak"></span></p>
      <p><strong>Jumlah Potongan:</strong> <span id="jumlahPanel"></span></p>
      <p><strong>Ukuran per Potong:</strong> <span id="ukuranPanel"></span></p>
      <p class="text-sm text-gray-600 mt-2" id="keterangan"></p>
    </div>
  </div>

<script src="spanduk.js"></script>
<script>
  $(document).ready(function () {
    $('#bahan').select2({
      placeholder: 'Cari produk',
      allowClear: true,
      width: '100%'
    });

    // AUTO FOCUS ke search box saat dropdown dibuka
    $('#bahan').on('select2:open', function () {
      document.querySelector('.select2-search__field').focus();
    });
  });

  $(document).ready(function () {
    $('#bahan').select2({
      placeholder: 'Cari produk',
      allowClear: true,
      width: '100%'
    });

    // Auto focus search
    $('#bahan').on('select2:open', function () {
      document.querySelector('.select2-search__field')?.focus();
    });

    // Klik di mana saja di luar Select2 → tutup dropdown
    $(document).on('mousedown', function (e) {
      const select2Container = $('.select2-container');

      if (!select2Container.is(e.target) && select2Container.has(e.target).length === 0) {
        $('#bahan').select2('close');
      }
    });
  });
</script>

</body>
</html>