<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Estimasi Spanduk</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    .modal-enter {
      opacity: 0;
      transform: scale(0.95);
      transition: opacity 0.3s ease, transform 0.3s ease;
    }

    .modal-show {
      opacity: 1;
      transform: scale(1);
    }

    .modal-hide {
      opacity: 0;
      transform: scale(0.95);
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-800">

  <!-- Tombol garis tiga (toggle sidebar) -->
  <button id="toggleSidebar" class="md:hidden text-white text-2xl p-4 fixed z-50 bg-gray-800 top-0 left-0">â˜°</button>

  <!-- Overlay -->
  <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-40 md:hidden" onclick="tutupSidebar()"></div>

  <div class="flex h-screen">
    <aside id="sidebar" class="w-64 bg-gray-800 text-white flex flex-col fixed inset-y-0 left-0 transform -translate-x-full md:translate-x-0 transition-transform duration-300 z-50 md:relative"></aside>">
      <div class="p-4 text-xl font-bold border-b border-gray-700">Estimasi Online</div>
      <nav class="flex-1 p-4 space-y-2 text-sm">
        <a href="/estimasi-layout/index.html" class="block p-2 font-semibold rounded hover:bg-gray-700  ">ğŸ  Halaman Utama</a>
        <a href="/estimasi-layout/harga-potong.html" class="block p-2 font-semibold rounded hover:bg-gray-700  ">ğŸ’° Harga Potong (A3+)</a>
        <a href="/estimasi-layout/layout-a3.html" class="block p-2 font-semibold rounded hover:bg-gray-700  ">ğŸ“ Layout A3+</a>
        <a href="/estimasi-layout/buku/buku.html" class="block p-2 font-semibold rounded hover:bg-gray-700  ">ğŸ“˜ Buku</a>
        <a href="/estimasi-layout/spanduk.html" class="block p-2 font-semibold rounded hover:bg-gray-700 bg-gray-900">ğŸ–¼ï¸ Spanduk</a>
        <a href="/estimasi-layout/adjust-size.html" class="block p-2 font-semibold rounded hover:bg-gray-700">ğŸ”§ Adjust Size</a>
        <a href="/estimasi-layout/shuffle.html" class="block p-2 font-semibold rounded hover:bg-gray-700">ğŸ“„ Shuffle Pages</a>
        <a href="/estimasi-layout/penawaran/penawaran.html" class="block p-2 font-semibold rounded hover:bg-gray-700">ğŸ’° Penawaran</a>
        <a href="/estimasi-layout/pengiriman.html" class="block p-2 font-semibold rounded hover:bg-gray-700">ğŸšš Pengiriman</a>
        <a href="/estimasi-layout/mockup.html" class="block p-2 font-semibold rounded hover:bg-gray-700">ğŸ¨ mockup</a>
      </nav>
    </aside>

    <!-- Spanduk -->
    <main class="flex-1 p-6 overflow-y-auto">
      <h1 class="text-2xl font-bold mb-4 text-blue-700">Estimasi Spanduk</h1>
      <p class="text-sm text-gray-600 mb-4">Silakan tambahkan form input ukuran spanduk di sini</p>
      <div class="bg-white rounded-lg shadow p-6 w-fit mx-auto">

        <table class="mb-4">
          <tr>
            <td class="pr-4 py-3 font-semibold">Ukuran Jadi (cm):</td>
            <td>
              <div class="flex w-[300px]">
                <input type="number" id="spanduk-panjang" placeholder="Panjang" class="p-1 border rounded w-1/2 mr-1" />
                <span class="flex items-center px-1">x</span>
                <input type="number" id="spanduk-lebar" placeholder="Lebar" class="p-1 border rounded w-1/2 ml-1" />
              </div>
            </td>
          </tr>
          <tr>
            <td class="pr-4 py-3 font-semibold">Jumlah Cetak:</td>
            <td><input type="number" id="spanduk-jumlah" class="p-1 border rounded w-[300px]" /></td>
          </tr>
          <tr>
            <td class="pr-4 py-3 font-semibold">Fins-M/A Keliling (CM):</td>
            <td><input type="number" id="spanduk-fins" class="p-1 border rounded w-[300px]" /></td>
          </tr>
        </table>

        <!-- Hasil Perhitungan -->
        <div id="hasilSection" class="hidden">
          <table class="mb-4">
            <tr>
              <td class="pr-4 py-3 font-semibold">Tambahan M/A:</td>
              <td><input type="text" id="spanduk-totalma" class="p-1 border rounded w-[300px] bg-gray-100" readonly /></td>
            </tr>
          </table>
        </div>

        <div class="mt-4">
          <button onclick="hitungSpanduk()" class="px-4 py-2 bg-blue-600 text-white rounded">Hitung</button>
          <button onclick="resetSpandukForm()" class="ml-2 px-4 py-2 bg-gray-500 text-white rounded">Reset</button>
        </div>
      </div>
    </main>
  </div>

  <!-- Modal Alert -->
  <div id="customAlert" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden z-50">
    <div id="alertBox" class="bg-white p-6 rounded-xl shadow-lg max-w-md w-full modal-enter">
      <h2 class="text-lg font-bold text-red-600 mb-2">PERINGATAN!</h2>
      <p id="alertMessage" class="text-gray-700 mb-4"></p>
      <div class="text-right">
        <button onclick="tutupAlert()" class="px-4 py-2 bg-blue-600 text-white rounded">Oke</button>
      </div>
    </div>
  </div>

  <script>
    window.onload = function () {
      const modal = document.getElementById("customAlert");
      const alertBox = document.getElementById("alertBox");

      function showAlert(pesan) {
        document.getElementById("alertMessage").textContent = pesan;
        modal.classList.remove("hidden");
        requestAnimationFrame(() => {
          alertBox.classList.add("modal-show");
        });
      }

      function tutupAlert() {
        alertBox.classList.remove("modal-show");
        alertBox.classList.add("modal-hide");
        setTimeout(() => {
          modal.classList.add("hidden");
          alertBox.classList.remove("modal-hide");
        }, 300);
      }

      function hitungSpanduk() {
        const panjang = parseFloat(document.getElementById('spanduk-panjang').value);
        const lebar = parseFloat(document.getElementById('spanduk-lebar').value);
        const fins = parseFloat(document.getElementById('spanduk-fins').value);
        const jumlahCetak = parseInt(document.getElementById('spanduk-jumlah').value);

        if (!panjang || !lebar || !fins || !jumlahCetak) {
          showAlert("Mohon lengkapi semua input spanduk.");
          return;
        }

        const sisiPanjang = Math.round((panjang / fins) + 1 - 2) * 2;
        const sisiLebar = Math.round((lebar / fins) + 1) * 2;
        const totalMA = (sisiPanjang + sisiLebar - 4) * jumlahCetak;

        document.getElementById('spanduk-totalma').value = `${totalMA} PCS`;
        document.getElementById('hasilSection').classList.remove('hidden');
      }

      function resetSpandukForm() {
        const ids = ['spanduk-panjang', 'spanduk-lebar', 'spanduk-jumlah', 'spanduk-fins', 'spanduk-totalma'];
        ids.forEach(id => {
          const el = document.getElementById(id);
          if (el) el.value = '';
        });
        document.getElementById('hasilSection').classList.add('hidden');
      }

      document.addEventListener('keydown', function (e) {
        if (!modal.classList.contains('hidden') && e.key === 'Enter') {
          tutupAlert();
        }
      });

      // Buat bisa dipanggil onclick
      window.hitungSpanduk = hitungSpanduk;
      window.resetSpandukForm = resetSpandukForm;
      window.tutupAlert = tutupAlert;
    };

    // Toggle sidebar (responsive)
    const toggleSidebar = document.getElementById("toggleSidebar");
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("overlay");

    toggleSidebar.addEventListener("click", () => {
      sidebar.classList.toggle("-translate-x-full");
      overlay.classList.toggle("hidden");
    });

    function tutupSidebar() {
      sidebar.classList.add("-translate-x-full");
      overlay.classList.add("hidden");
    }
  </script>
</body>
</html>
